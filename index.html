<!DOCTYPE html>
<html>
<head>
<title>Multi Tool Portal v2.0</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

<style>
:root {
    --bg: #050814;
    --panel: rgba(15,23,42,0.95);
    --glass: rgba(15,23,42,0.7);
    --border: rgba(148,163,184,0.4);
    --accent: #00E1FF;
    --accent2: #00FFC6;
    --text: #E5F0FF;
    --muted: #94A3B8;
    --success: #22C55E;
    --danger: #FB7185;
    --warning: #FBBF24;
    --radius: 14px;
    font-family: 'Segoe UI', system-ui, sans-serif;
}

/* ===== GLOBAL BACKGROUND ===== */
body {
    margin: 0;
    padding: 0;
    background: radial-gradient(circle at 20% 0%, #0ea5e9 0, transparent 55%),
                radial-gradient(circle at 80% 100%, #22c55e22 0, transparent 55%),
                #020617;
    color: var(--text);
    overflow-x: hidden;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Moving grid */
body::before {
    content: "";
    position: fixed;
    inset: 0;
    background-image:
      linear-gradient(rgba(148,163,184,0.06) 1px, transparent 1px),
      linear-gradient(90deg, rgba(148,163,184,0.06) 1px, transparent 1px);
    background-size: 42px 42px;
    opacity: 0.9;
    animation: gridMove 30s linear infinite;
    pointer-events: none;
    z-index: -2;
}
@keyframes gridMove {
    from { transform: translate3d(0,0,0); }
    to   { transform: translate3d(-42px,-42px,0); }
}

/* Soft glow layer */
body::after {
    content: "";
    position: fixed;
    inset: 0;
    background:
      radial-gradient(circle at 10% 90%, rgba(56,189,248,0.25), transparent 60%),
      radial-gradient(circle at 90% 10%, rgba(34,197,94,0.18), transparent 60%);
    pointer-events: none;
    z-index: -1;
}

/* ===== MAIN CONTAINER ===== */
.main-container {
    width: 100%;
    max-width: 450px;
    padding: 20px;
}

/* ===== LOGIN BOX ===== */
.login-box {
    background: rgba(15,23,42,0.95);
    border-radius: 18px;
    border: 1px solid rgba(148,163,184,0.45);
    box-shadow: 0 20px 45px rgba(15,23,42,0.95);
    padding: 30px 25px;
    position: relative;
    overflow: hidden;
    backdrop-filter: blur(10px);
}

.login-box::before {
    content: "";
    position: absolute;
    inset: -40%;
    background:
      radial-gradient(circle at 0 0, rgba(56,189,248,0.22), transparent 55%),
      radial-gradient(circle at 100% 100%, rgba(34,197,94,0.18), transparent 55%);
    opacity: 0.9;
    pointer-events: none;
}

.login-inner {
    position: relative;
    z-index: 1;
}

/* Header */
.login-header {
    text-align: center;
    margin-bottom: 25px;
}

.logo-icon {
    width: 60px;
    height: 60px;
    border-radius: 999px;
    background: radial-gradient(circle at 30% 0%, #e0f2fe, #0ea5e9);
    display: flex;
    align-items: center;
    justify-content: center;
    color: #0b1120;
    box-shadow: 0 0 25px rgba(56,189,248,0.9);
    margin: 0 auto 15px;
    font-size: 24px;
}

.login-title {
    font-size: 22px;
    font-weight: 700;
    background: linear-gradient(135deg, var(--accent), var(--accent2));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    margin-bottom: 5px;
}

.login-subtitle {
    font-size: 12px;
    color: var(--muted);
    text-transform: uppercase;
    letter-spacing: 0.15em;
}

/* Form */
.input-group {
    margin-bottom: 20px;
}

.input-label {
    display: block;
    font-size: 12px;
    color: var(--muted);
    margin-bottom: 6px;
    text-transform: uppercase;
    letter-spacing: 0.1em;
}

.input-field {
    width: 100%;
    background: rgba(2, 8, 23, 0.7);
    border: 1px solid rgba(148,163,184,0.5);
    border-radius: 999px;
    padding: 12px 18px;
    font-size: 14px;
    color: var(--text);
    outline: none;
    transition: all 0.25s;
    box-sizing: border-box;
}

.input-field:focus {
    border-color: var(--accent);
    box-shadow: 0 0 0 2px rgba(56,189,248,0.3);
}

.input-field::placeholder {
    color: #64748b;
}

/* Login Button */
.login-btn {
    width: 100%;
    padding: 14px;
    border-radius: 999px;
    border: none;
    background: linear-gradient(135deg, var(--accent), var(--accent2));
    color: #020617;
    font-weight: 600;
    font-size: 14px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    box-shadow: 0 12px 28px rgba(8,47,73,0.95);
    transition: transform 0.2s, box-shadow 0.2s;
    margin-top: 10px;
}

.login-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 16px 32px rgba(8,47,73,0.95);
}

.login-btn:active {
    transform: translateY(0);
}

/* Status */
.login-status {
    margin-top: 15px;
    min-height: 20px;
    text-align: center;
    font-size: 13px;
    color: var(--danger);
}

.login-status.success {
    color: var(--success);
}

/* ===== TOOL BOX ===== */
.tool-box {
    background: rgba(15,23,42,0.95);
    border-radius: 18px;
    border: 1px solid rgba(148,163,184,0.45);
    box-shadow: 0 20px 45px rgba(15,23,42,0.95);
    padding: 30px 25px;
    position: relative;
    overflow: hidden;
    backdrop-filter: blur(10px);
    display: none;
}

.tool-box::before {
    content: "";
    position: absolute;
    inset: -40%;
    background:
      radial-gradient(circle at 0 0, rgba(56,189,248,0.22), transparent 55%),
      radial-gradient(circle at 100% 100%, rgba(34,197,94,0.18), transparent 55%);
    opacity: 0.9;
    pointer-events: none;
}

.tool-inner {
    position: relative;
    z-index: 1;
}

/* Tool Header */
.tool-header {
    text-align: center;
    margin-bottom: 25px;
}

.tool-icon {
    width: 50px;
    height: 50px;
    border-radius: 999px;
    background: radial-gradient(circle at 30% 0%, #e0f2fe, #0ea5e9);
    display: flex;
    align-items: center;
    justify-content: center;
    color: #0b1120;
    box-shadow: 0 0 20px rgba(56,189,248,0.9);
    margin: 0 auto 15px;
    font-size: 20px;
}

.tool-title {
    font-size: 20px;
    font-weight: 700;
    background: linear-gradient(135deg, var(--accent), var(--accent2));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    margin-bottom: 5px;
}

.tool-subtitle {
    font-size: 12px;
    color: var(--muted);
    text-transform: uppercase;
    letter-spacing: 0.15em;
}

/* Tool Select */
.tool-select-group {
    margin-bottom: 20px;
}

.select-field {
    width: 100%;
    background: rgba(2, 8, 23, 0.7);
    border: 1px solid rgba(148,163,184,0.5);
    border-radius: 999px;
    padding: 12px 18px;
    font-size: 14px;
    color: var(--text);
    outline: none;
    transition: all 0.25s;
    box-sizing: border-box;
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%2300E1FF' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 18px center;
    background-size: 16px;
}

.select-field:focus {
    border-color: var(--accent);
    box-shadow: 0 0 0 2px rgba(56,189,248,0.3);
}

/* Search Button */
.search-btn {
    width: 100%;
    padding: 14px;
    border-radius: 999px;
    border: none;
    background: linear-gradient(135deg, var(--accent), var(--accent2));
    color: #020617;
    font-weight: 600;
    font-size: 14px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    box-shadow: 0 12px 28px rgba(8,47,73,0.95);
    transition: transform 0.2s, box-shadow 0.2s;
    margin-top: 20px;
}

.search-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 16px 32px rgba(8,47,73,0.95);
}

.search-btn:active {
    transform: translateY(0);
}

/* Status & Output */
.search-status {
    margin-top: 20px;
    min-height: 20px;
    text-align: center;
    font-size: 13px;
    color: var(--muted);
}

.search-output {
    margin-top: 20px;
    background: rgba(2, 8, 23, 0.7);
    border-radius: 10px;
    border: 1px solid rgba(30,64,175,0.7);
    padding: 15px;
    max-height: 300px;
    overflow-y: auto;
    display: none;
}

.output-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
    padding-bottom: 10px;
    border-bottom: 1px solid rgba(148,163,184,0.3);
}

.output-title {
    font-size: 13px;
    color: var(--success);
    display: flex;
    align-items: center;
    gap: 8px;
}

.copy-btn {
    background: rgba(56, 189, 248, 0.15);
    border: 1px solid rgba(56, 189, 248, 0.4);
    color: #38bdf8;
    border-radius: 6px;
    padding: 6px 12px;
    font-size: 11px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 6px;
    transition: all 0.2s;
}

.copy-btn:hover {
    background: rgba(56, 189, 248, 0.25);
}

.copy-btn.copied {
    background: rgba(34, 197, 94, 0.15);
    border-color: rgba(34, 197, 94, 0.4);
    color: #22c55e;
}

.output-content {
    font-family: 'Cascadia Code', 'Courier New', monospace;
    font-size: 12px;
    line-height: 1.4;
    white-space: pre-wrap;
    word-wrap: break-word;
    color: var(--text);
}

/* JSON Syntax Highlighting */
.json-key { color: #38bdf8; }
.json-string { color: #22c55e; }
.json-number { color: #fbbf24; }
.json-boolean { color: #22c55e; }
.json-null { color: #94a3b8; }
.json-bracket { color: #c084fc; }

/* Loading Overlay */
.scan-overlay {
    position: absolute;
    inset: 0;
    background: rgba(15,23,42,0.96);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 10;
    backdrop-filter: blur(4px);
    border-radius: inherit;
    display: none;
}

.radar {
    width: 120px;
    height: 120px;
    border-radius: 999px;
    border: 1px solid rgba(148,163,184,0.6);
    background: radial-gradient(circle, rgba(56,189,248,0.2) 0, transparent 60%);
    position: relative;
    overflow: hidden;
}

.radar::before {
    content: "";
    position: absolute;
    inset: 0;
    background: conic-gradient(from 0deg, rgba(56,189,248,0.8), transparent 40%, transparent 100%);
    animation: radarSweep 1.1s linear infinite;
}

.radar::after {
    content: "";
    position: absolute;
    inset: 20%;
    border-radius: 999px;
    border: 1px solid rgba(15,23,42,0.7);
}

@keyframes radarSweep {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.scan-text {
    margin-top: 15px;
    font-size: 12px;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    color: var(--muted);
}

/* Footer */
.footer {
    margin-top: 25px;
    text-align: center;
    font-size: 11px;
    color: var(--muted);
    padding-top: 15px;
    border-top: 1px solid rgba(148,163,184,0.2);
}

.footer a {
    color: var(--accent);
    text-decoration: none;
}

.footer a:hover {
    text-decoration: underline;
}

/* Hidden Class */
.hidden {
    display: none !important;
}

/* Shake Animation */
.shake {
    animation: shake 0.35s ease;
}
@keyframes shake {
    0% { transform: translateX(0); }
    25% { transform: translateX(-6px); }
    50% { transform: translateX(6px); }
    75% { transform: translateX(-4px); }
    100% { transform: translateX(0); }
}

/* Responsive */
@media (max-width: 480px) {
    .main-container {
        padding: 15px;
    }
    
    .login-box, .tool-box {
        padding: 25px 20px;
    }
    
    .login-title {
        font-size: 20px;
    }
    
    .tool-title {
        font-size: 18px;
    }
}
</style>
</head>

<body>

<div class="main-container">
    <!-- Login Box -->
    <div id="loginBox" class="login-box">
        <div class="login-inner">
            <div class="login-header">
                <div class="logo-icon">
                    <i class="fa-solid fa-shield-halved"></i>
                </div>
                <h1 class="login-title">MULTI TOOL PORTAL</h1>
                <div class="login-subtitle">Secure Access Required</div>
            </div>
            
            <div class="input-group">
                <label class="input-label">User ID</label>
                <input id="userid" class="input-field" placeholder="Enter User ID">
            </div>
            
            <div class="input-group">
                <label class="input-label">Password</label>
                <input id="password" type="password" class="input-field" placeholder="Enter Password">
            </div>
            
            <button class="login-btn" onclick="login()">
                <i class="fa-solid fa-right-to-bracket"></i>
                GRANT ACCESS
            </button>
            
            <div id="loginStatus" class="login-status"></div>
            
            <div class="footer">
                <div>Powered by <strong>NULL PROTOCOL</strong> v2.0</div>
                <div style="margin-top: 5px;">For support: @NullProtocol_X</div>
            </div>
        </div>
    </div>

    <!-- Tool Box -->
    <div id="toolBox" class="tool-box">
        <div class="scan-overlay" id="scanOverlay">
            <div class="radar"></div>
            <div class="scan-text">processing request...</div>
        </div>
        
        <div class="tool-inner">
            <div class="tool-header">
                <div class="tool-icon">
                    <i class="fa-solid fa-satellite-dish"></i>
                </div>
                <h1 class="tool-title">MULTI TOOL SEARCH</h1>
                <div class="tool-subtitle">Multi-Intel Console</div>
            </div>
            
            <div class="tool-select-group">
                <label class="input-label">Select Tool Type</label>
                <select id="type" class="select-field">
                    <option value="PHONE">üì± Phone Information</option>
                    <option value="IFSC">üè¶ IFSC & Bank Details</option>
                    <option value="EMAIL">üìß Email Verification</option>
                    <option value="VEHICLE">üöó Vehicle RC Lookup</option>
                    <option value="PINCODE">üìç Pincode Information</option>
                    <option value="GST">üí∞ GST Details</option>
                </select>
            </div>
            
            <div class="input-group">
                <label class="input-label">Enter Search Value</label>
                <input id="inputValue" class="input-field" placeholder="Enter value to search...">
            </div>
            
            <button class="search-btn" onclick="search()">
                <i class="fa-solid fa-magnifying-glass"></i>
                SEARCH DATABASE
            </button>
            
            <div id="status" class="search-status"></div>
            
            <div id="output" class="search-output">
                <div class="output-header">
                    <div class="output-title">
                        <i class="fa-solid fa-file-code"></i>
                        <span>JSON Response</span>
                    </div>
                    <button class="copy-btn" id="copyOutputBtn">
                        <i class="fa-regular fa-copy"></i>
                        Copy
                    </button>
                </div>
                <pre id="outputData" class="output-content">Waiting for data...</pre>
            </div>
            
            <div class="footer">
                <div>Developer: <strong>Shahid Ansari</strong> | Powered by <strong>NULL PROTOCOL</strong></div>
                <div style="margin-top: 5px;">All rights reserved ¬© 2024</div>
            </div>
        </div>
    </div>
</div>

<script>
// ===== API CONFIGURATION =====
const API = "https://script.google.com/macros/s/AKfycbxGvdCYn2_2Ci1JtmH3Muo4ZrXkxVbGo3-D7ZbYfAcDdTLflZKKUoB9iQAjHeLPVkmN/exec";

// ===== ELEMENTS =====
const loginBox = document.getElementById('loginBox');
const toolBox = document.getElementById('toolBox');
const loginStatus = document.getElementById('loginStatus');
const statusEl = document.getElementById('status');
const output = document.getElementById('output');
const outputData = document.getElementById('outputData');
const copyOutputBtn = document.getElementById('copyOutputBtn');
const scanOverlay = document.getElementById('scanOverlay');

// ===== LOGIN FUNCTION =====
async function login() {
    const userid = document.getElementById('userid').value.trim();
    const password = document.getElementById('password').value.trim();
    
    // Basic validation
    if (!userid || !password) {
        showLoginError("Please enter User ID and Password");
        loginBox.classList.add('shake');
        setTimeout(() => loginBox.classList.remove('shake'), 350);
        return;
    }
    
    // Show loading state
    loginStatus.textContent = "Authenticating...";
    loginStatus.classList.remove('success');
    
    try {
        const response = await fetch(API, {
            method: "POST",
            body: JSON.stringify({
                action: "login",
                userid: userid,
                password: password
            })
        });
        
        const data = await response.json();
        
        if (data.success) {
            // Success
            loginStatus.textContent = "Access granted! Loading console...";
            loginStatus.classList.add('success');
            
            // Switch to tool box
            setTimeout(() => {
                loginBox.classList.add('hidden');
                toolBox.style.display = 'block';
                addTerminalLog("System initialized. Welcome to Multi Tool Portal.", "success");
            }, 800);
            
        } else {
            // Failed
            showLoginError("Invalid credentials. Access denied.");
            loginBox.classList.add('shake');
            setTimeout(() => loginBox.classList.remove('shake'), 350);
        }
        
    } catch (error) {
        showLoginError("Network error. Please try again.");
        console.error("Login error:", error);
    }
}

function showLoginError(message) {
    loginStatus.textContent = message;
    loginStatus.classList.remove('success');
}

// ===== SEARCH FUNCTION =====
async function search() {
    const type = document.getElementById('type').value;
    const input = document.getElementById('inputValue').value.trim();
    
    // Validation
    if (!input) {
        showStatus("Please enter a value to search", "error");
        return;
    }
    
    // Show loading
    scanOverlay.style.display = 'flex';
    statusEl.textContent = "Querying database...";
    output.style.display = 'none';
    
    try {
        const response = await fetch(API, {
            method: "POST",
            body: JSON.stringify({
                action: "api",
                type: type,
                input: input
            })
        });
        
        const data = await response.json();
        
        // Hide loading
        scanOverlay.style.display = 'none';
        
        // Display results
        displayResult(data);
        showStatus("Query completed successfully", "success");
        
        // Add to terminal
        addTerminalLog(`${type} lookup for: ${input}`, "info");
        
    } catch (error) {
        scanOverlay.style.display = 'none';
        showStatus("Network error. Please try again.", "error");
        console.error("Search error:", error);
        
        // Show error in output
        outputData.textContent = JSON.stringify({
            error: "Request failed",
            message: error.message,
            timestamp: new Date().toISOString(),
            developer: "Shahid Ansari",
            powered_by: "NULL PROTOCOL"
        }, null, 2);
        output.style.display = 'block';
        syntaxHighlight(outputData);
    }
}

// ===== DISPLAY RESULT =====
function displayResult(data) {
    try {
        // Format JSON with indentation
        const formattedJSON = JSON.stringify(data, null, 2);
        outputData.textContent = formattedJSON;
        
        // Apply syntax highlighting
        syntaxHighlight(outputData);
        
        // Setup copy button
        setupCopyButton(copyOutputBtn, formattedJSON);
        
        // Show output
        output.style.display = 'block';
        
        // Scroll to output
        setTimeout(() => {
            output.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }, 100);
        
    } catch (error) {
        outputData.textContent = `Error displaying results: ${error.message}`;
        output.style.display = 'block';
    }
}

// ===== SYNTAX HIGHLIGHTING =====
function syntaxHighlight(preElement) {
    const json = preElement.textContent;
    let highlighted = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
    
    highlighted = highlighted.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?)/g, function (match) {
        let cls = 'json-number';
        if (/^"/.test(match)) {
            if (/:$/.test(match)) {
                cls = 'json-key';
                match = match.replace(/:$/, '') + '<span class="json-bracket">:</span>';
            } else {
                cls = 'json-string';
            }
        } else if (/true|false/.test(match)) {
            cls = 'json-boolean';
        } else if (/null/.test(match)) {
            cls = 'json-null';
        }
        return '<span class="' + cls + '">' + match + '</span>';
    });
    
    preElement.innerHTML = highlighted;
}

// ===== COPY FUNCTION =====
function setupCopyButton(button, text) {
    button.onclick = async () => {
        try {
            if (navigator.clipboard && window.isSecureContext) {
                await navigator.clipboard.writeText(text);
            } else {
                // Fallback for non-secure contexts
                const textArea = document.createElement('textarea');
                textArea.value = text;
                textArea.style.position = 'fixed';
                textArea.style.opacity = '0';
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
            }
            
            // Visual feedback
            button.classList.add('copied');
            button.innerHTML = '<i class="fa-solid fa-check"></i> Copied!';
            
            // Reset after 2 seconds
            setTimeout(() => {
                button.classList.remove('copied');
                button.innerHTML = '<i class="fa-regular fa-copy"></i> Copy';
            }, 2000);
            
        } catch (error) {
            console.error('Copy failed:', error);
            button.innerHTML = '<i class="fa-solid fa-xmark"></i> Error';
            setTimeout(() => {
                button.innerHTML = '<i class="fa-regular fa-copy"></i> Copy';
            }, 2000);
        }
    };
}

// ===== STATUS DISPLAY =====
function showStatus(message, type = "info") {
    statusEl.textContent = message;
    statusEl.style.color = type === "error" ? "var(--danger)" : 
                          type === "success" ? "var(--success)" : 
                          "var(--muted)";
}

// ===== TERMINAL LOG (SIMULATED) =====
function addTerminalLog(message, type = "info") {
    // For now, just update status
    const typeIcon = type === "success" ? "‚úÖ" : type === "error" ? "‚ùå" : "‚ÑπÔ∏è";
    console.log(`${typeIcon} ${message}`);
}

// ===== ENTER KEY SUPPORT =====
document.getElementById('password').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') login();
});

document.getElementById('inputValue').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') search();
});

// ===== INITIALIZE =====
window.addEventListener('DOMContentLoaded', () => {
    // Add some visual effect
    setTimeout(() => {
        document.querySelector('.login-box').style.opacity = '1';
    }, 100);
    
    // Initial terminal log
    console.log("üîí Multi Tool Portal v2.0 initialized");
    console.log("‚ö° Powered by NULL PROTOCOL");
});
</script>

</body>
</html>
